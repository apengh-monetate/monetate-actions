"use strict";
// Create Countdown
var Countdown={
// Backbone-like structure
$el:document.querySelector("#mte-countdown"),$days:document.querySelectorAll(".days"),$hours:document.querySelectorAll(".hours"),$minutes:document.querySelectorAll(".minutes"),$seconds:document.querySelectorAll(".seconds"),
// Params
countdown_interval:null,total_seconds:0,delta:0,
// Initialize the countdown
init:function e(){
// End Date
this.end_date=new Date(this.$el.getAttribute("data-end-date")).getTime(),this.today=(new Date).getTime(),// Total seconds between the times
this.delta=Math.floor(this.end_date-this.today)/1e3,0<this.delta?document.querySelector(".countdown").classList.add("active"):(document.querySelector(".countdown").classList.remove("active"),document.querySelector(".countdown").classList.add("expired"),document.querySelector(".countdown__expired").classList.remove("active")),// Days
this.days=Math.floor(this.delta/86400),this.delta-=86400*this.days,// if(this.days > 0) {
//   for(var i = 0; i < this.$days.length; i++) {
//     this.$days[i].classList.add('active');
//   }
// }
// Hours
this.hours=Math.floor(this.delta/3600)%24,this.delta-=3600*this.hours,// if(this.hours > 0) {
//   for(var i = 0; i < this.$hours.length; i++) {
//     this.$hours[i].classList.add('active');
//   }
// }
// Minutes
this.minutes=Math.floor(this.delta/60)%60,this.delta-=60*this.minutes,// if(this.minutes > 0) {
//   for(var i = 0; i < this.$minutes.length; i++) {
//     this.$minutes[i].classList.add('active');
//   }
// }
// Seconds
this.seconds=Math.floor(this.delta%60),// in theory the modulus is not required
// if(this.seconds > 0) {
//   for(var i = 0; i < this.$seconds.length; i++) {
//     this.$seconds[i].classList.add('active');
//   }
// }
// DOM
this.$={days:this.$el.querySelectorAll(".countdown__block.days .figure"),hours:this.$el.querySelectorAll(".countdown__block.hours .figure"),minutes:this.$el.querySelectorAll(".countdown__block.minutes .figure"),seconds:this.$el.querySelectorAll(".countdown__block.seconds .figure")},// Init countdown values
this.values={days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds},// Initialize total seconds
this.total_seconds=24*this.values.days*60*60+60*this.values.minutes+this.values.seconds,// Animate countdown to the end
this.count()},count:function e(){var t=this,s=this.$.days[0],o=this.$.days[1],n=this.$.hours[0],i=this.$.hours[1],u=this.$.minutes[0],a=this.$.minutes[1],l=this.$.seconds[0],c=this.$.seconds[1];this.countdown_interval=setInterval(function(){0<t.total_seconds?(--t.values.seconds,0<=t.values.minutes&&t.values.seconds<0&&(t.values.seconds=59,--t.values.minutes),0<=t.values.hours&&t.values.minutes<0&&(t.values.minutes=59,--t.values.hours),0<=t.values.days&&t.values.hours<0&&(t.values.hours=59,--t.values.days),// Update DOM values
// Days
t.checkValue(t.values.days,s,o),// Hours
t.checkValue(t.values.hours,n,i),// Minutes
t.checkValue(t.values.minutes,u,a),// Seconds
t.checkValue(t.values.seconds,l,c),--t.total_seconds):(clearInterval(t.countdown_interval),document.querySelector(".countdown").classList.remove("active"),document.querySelector(".countdown").classList.add("expired"),document.querySelector(".countdown__expired").classList.add("active"))},1e3)},animateFigure:function e(t,s){
//var that         = this,
var o=t.querySelector(".top"),n=t.querySelector(".bottom"),i=t.querySelector(".top-back"),u=t.querySelector(".bottom-back");// Before we begin, change the back value
i.querySelector("span").innerHTML=s,// Also change the back bottom value
u.querySelector("span").innerHTML=s,// Animate
-1!==navigator.userAgent.indexOf("MSIE")||-1<navigator.appVersion.indexOf("Trident/")?(
/* Microsoft Internet Explorer detected in. */
o.innerHTML=s,n.innerHTML=s):(o.classList.add("flipTop"),setTimeout(function(){o.classList.remove("flipTop"),o.innerHTML=s},750),i.classList.add("flipTopBack"),setTimeout(function(){i.classList.remove("flipTopBack"),n.innerHTML=s},750))},checkValue:function e(t,s,o){var n=t.toString().charAt(0),i=t.toString().charAt(1),u=s.querySelector(".top").innerHTML,a=o.querySelector(".top").innerHTML;10<=t?(
// Animate only if the figure has changed
u!==n&&this.animateFigure(s,n),a!==i&&this.animateFigure(o,i)):(
// If we are under 10, replace first figure with 0
"0"!==u&&this.animateFigure(s,0),a!==n&&this.animateFigure(o,n))}};// Initialize countdown
Countdown.init();
//# sourceMappingURL=countdown.min.js.map