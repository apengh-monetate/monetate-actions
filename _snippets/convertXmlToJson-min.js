const convert=require("xml2json"),fs=require("fs"),args=process.argv.slice(2);let lines=20,search="";const flags={input:["-i","--input"],lines:["-l","--lines"],text:["-t","--text"]};args.forEach(e=>{console.log(e),(e.includes(flags.input[0])||e.includes(flags.input[1]))&&(e=e.split("="),file_name=e[1]),(e.includes(flags.lines[0])||e.includes(flags.lines[1]))&&(e=e.split("="),lines=e[1]),(e.includes(flags.text[0])||e.includes(flags.text[1]))&&(e=e.split("="),search=e[1])});let json={products_data:[]};const xml=fs.readFileSync(file_name,"utf8"),converted=convert.toJson(xml);json.products_data.push(converted),console.log("JSON output",json),file_name=file_name.split("."),console.log(`Converted .xml file ${file_name[0]}.json`),fs.writeFileSync(file_name[0]+".json",json);